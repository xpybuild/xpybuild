

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>xpybuild.basetarget &mdash; xpybuild v4.0 4.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="xpybuild.buildcommon" href="xpybuild.buildcommon.html" />
    <link rel="prev" title="xpybuild" href="xpybuild.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> xpybuild v4.0
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="xpybuild.html">xpybuild</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">xpybuild.basetarget</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#basetarget">BaseTarget</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="xpybuild.buildcommon.html">xpybuild.buildcommon</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpybuild.buildcontext.html">xpybuild.buildcontext</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpybuild.pathsets.html">xpybuild.pathsets</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpybuild.propertysupport.html">xpybuild.propertysupport</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpybuild.targets.html">xpybuild.targets</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpybuild.utils.html">xpybuild.utils</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">xpybuild v4.0</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="xpybuild.html">xpybuild</a> &raquo;</li>
        
      <li>xpybuild.basetarget</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/autodocgen/xpybuild.basetarget.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-xpybuild.basetarget">
<span id="xpybuild-basetarget"></span><h1>xpybuild.basetarget<a class="headerlink" href="#module-xpybuild.basetarget" title="Permalink to this headline">¶</a></h1>
<p>Contains <a class="reference internal" href="#xpybuild.basetarget.BaseTarget" title="xpybuild.basetarget.BaseTarget"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xpybuild.basetarget.BaseTarget</span></code></a> which contains 
methods such as <code class="xref py py-obj docutils literal notranslate"><span class="pre">basetarget.BaseTarget.option</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">basetarget.BaseTarget.tags</span></code> for configuring the target instances 
in your build files, and is also the base class for defining new targets.</p>
<div class="section" id="basetarget">
<h2>BaseTarget<a class="headerlink" href="#basetarget" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="xpybuild.basetarget.BaseTarget">
<em class="property">class </em><code class="sig-prename descclassname">xpybuild.basetarget.</code><code class="sig-name descname">BaseTarget</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">dependencies</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/basetarget.html#BaseTarget"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.basetarget.BaseTarget" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="xpybuild.utils.functors.html#xpybuild.utils.functors.Composable" title="xpybuild.utils.functors.Composable"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpybuild.utils.functors.Composable</span></code></a></p>
<p>The base class for all targets.</p>
<p class="rubric">Configuring targets in your build files</p>
<p>The following methods can be used to configure any target instance you add to a build file:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#xpybuild.basetarget.BaseTarget.option" title="xpybuild.basetarget.BaseTarget.option"><code class="xref py py-obj docutils literal notranslate"><span class="pre">option</span></code></a>(key, value)</p></td>
<td><p>Called by build file authors to configure this target instance with an override for an option value.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#xpybuild.basetarget.BaseTarget.tags" title="xpybuild.basetarget.BaseTarget.tags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tags</span></code></a>(*tags)</p></td>
<td><p>Called by build file authors to append one or more tags to this target to make groups of related targets  easier to build (or just to provide a shorter alias for the target on the command line).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#xpybuild.basetarget.BaseTarget.clearTags" title="xpybuild.basetarget.BaseTarget.clearTags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clearTags</span></code></a>()</p></td>
<td><p>Called by build file authors to removes all tags other than <code class="docutils literal notranslate"><span class="pre">all</span></code> from this target.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#xpybuild.basetarget.BaseTarget.disableInFullBuild" title="xpybuild.basetarget.BaseTarget.disableInFullBuild"><code class="xref py py-obj docutils literal notranslate"><span class="pre">disableInFullBuild</span></code></a>()</p></td>
<td><p>Called by build file authors to configure this target to not build in <code class="docutils literal notranslate"><span class="pre">all</span></code> mode, so that it will only  be built if the target name or tag is specified on the command line (or if pulled in by a dependency).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#xpybuild.basetarget.BaseTarget.priority" title="xpybuild.basetarget.BaseTarget.priority"><code class="xref py py-obj docutils literal notranslate"><span class="pre">priority</span></code></a>(priority)</p></td>
<td><p>Called by build file authors to configure the priority of this target to encourage it (and its dependencies)  to be built earlier in the process.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Implementing a new target class</p>
<p>If you are subclassing <code class="docutils literal notranslate"><span class="pre">BaseTarget</span></code> to create a new target class, you must implement <a class="reference internal" href="#xpybuild.basetarget.BaseTarget.run" title="xpybuild.basetarget.BaseTarget.run"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run</span></code></a>.</p>
<p>In rare occasions you may also wish to override <a class="reference internal" href="#xpybuild.basetarget.BaseTarget.clean" title="xpybuild.basetarget.BaseTarget.clean"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clean</span></code></a>. The following methods are available for use by target 
subclasses, either at construction time (<code class="docutils literal notranslate"><span class="pre">__init__</span></code>) or at build time (during <a class="reference internal" href="#xpybuild.basetarget.BaseTarget.run" title="xpybuild.basetarget.BaseTarget.run"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run</span></code></a> or <a class="reference internal" href="#xpybuild.basetarget.BaseTarget.clean" title="xpybuild.basetarget.BaseTarget.clean"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clean</span></code></a>):</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#xpybuild.basetarget.BaseTarget.registerImplicitInputOption" title="xpybuild.basetarget.BaseTarget.registerImplicitInputOption"><code class="xref py py-obj docutils literal notranslate"><span class="pre">registerImplicitInputOption</span></code></a>(optionKey)</p></td>
<td><p>Target classes can call this from their <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> to add the resolved value of the specified option(s) as  ‘implicit inputs’ of this target.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#xpybuild.basetarget.BaseTarget.registerImplicitInput" title="xpybuild.basetarget.BaseTarget.registerImplicitInput"><code class="xref py py-obj docutils literal notranslate"><span class="pre">registerImplicitInput</span></code></a>(item)</p></td>
<td><p>Target classes can call this from their <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> to add the specified string line(s) as  ‘implicit inputs’ of this target.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#xpybuild.basetarget.BaseTarget.getOption" title="xpybuild.basetarget.BaseTarget.getOption"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getOption</span></code></a>(key[, errorIfNone, errorIfEmptyString])</p></td>
<td><p>Target classes can call this during <a class="reference internal" href="#xpybuild.basetarget.BaseTarget.run" title="xpybuild.basetarget.BaseTarget.run"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run</span></code></a> or <a class="reference internal" href="#xpybuild.basetarget.BaseTarget.clean" title="xpybuild.basetarget.BaseTarget.clean"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clean</span></code></a> to get the resolved value of a specified option for  this target, with optional checking to give a friendly error message if the value is an empty string or None.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#xpybuild.basetarget.BaseTarget.openFile" title="xpybuild.basetarget.BaseTarget.openFile"><code class="xref py py-obj docutils literal notranslate"><span class="pre">openFile</span></code></a>(context, path[, mode])</p></td>
<td><p>Target classes can call this from their <a class="reference internal" href="#xpybuild.basetarget.BaseTarget.run" title="xpybuild.basetarget.BaseTarget.run"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run</span></code></a> implementation to open a specified file, using an encoding  specified by the <code class="docutils literal notranslate"><span class="pre">common.fileEncodingDecider</span></code> option (unless explicitly provided by <code class="docutils literal notranslate"><span class="pre">encoding=</span></code>).</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#xpybuild.basetarget.BaseTarget.targetNameToUniqueId" title="xpybuild.basetarget.BaseTarget.targetNameToUniqueId"><code class="xref py py-obj docutils literal notranslate"><span class="pre">targetNameToUniqueId</span></code></a>(name)</p></td>
<td><p>Convert a target name (containing unexpanded property values) into a convenient unique identifier.</p></td>
</tr>
</tbody>
</table>
<p>This class provides several read-only attributes for use by subclasses.</p>
<dl class="field-list simple">
<dt class="field-odd">Variables</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The canonical name for the target (containing unsubstituted properties).</p></li>
<li><p><strong>path</strong> (<em>str</em>) – The resolved name with all properties variables expanded. This field is set only once the target is 
running or checking up-to-dateness but not during initialization phase when targets are initially constructed.</p></li>
<li><p><strong>options</strong> (<em>dict</em>) – A <code class="docutils literal notranslate"><span class="pre">dict</span></code> of the resolved options for this target. Can only be used once target is running or 
checking up-to-dateness but not during the initialization phase. See also <a class="reference internal" href="#xpybuild.basetarget.BaseTarget.getOption" title="xpybuild.basetarget.BaseTarget.getOption"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getOption()</span></code></a>.</p></li>
<li><p><strong>workDir</strong> (<em>str</em>) – A unique dedicated directory where this target can write temporary/working files.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Arguments for the BaseTarget __init__ constructor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – This target instance’s unique name, which is the file or 
directory path which is created as a result of running this target. 
The target name may contain <code class="docutils literal notranslate"><span class="pre">${...}</span></code> properties (e.g. 
<code class="docutils literal notranslate"><span class="pre">${OUTPUT_DIR}/myoutputfile</span></code>), and must use only forward slashes <code class="docutils literal notranslate"><span class="pre">/</span></code>. 
If the target builds a directory it must end with a forward slash.</p></li>
<li><p><strong>dependencies</strong> – The dependencies, which may need to be 
flattened/expanded by the build system; may be any combination of 
strings, <code class="xref py py-obj docutils literal notranslate"><span class="pre">xpybuild.pathsets`</span></code> and lists, and may also contain 
unexpanded variables.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">BaseTarget methods</p>
<dl class="py method">
<dt id="xpybuild.basetarget.BaseTarget.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span><span class="p">:</span> <span class="n"><a class="reference internal" href="xpybuild.buildcontext.html#xpybuild.buildcontext.BuildContext" title="xpybuild.buildcontext.BuildContext">xpybuild.buildcontext.BuildContext</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/basetarget.html#BaseTarget.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.basetarget.BaseTarget.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by xpybuild to request to target to run its build (all targets must implement this).</p>
<p>This method is only called when up-to-date checking shows that the target must be built. 
It’s possible that execution will show that the target did not really 
need to execute, in which case False should be returned.</p>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.basetarget.BaseTarget.clean">
<code class="sig-name descname">clean</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span><span class="p">:</span> <span class="n"><a class="reference internal" href="xpybuild.buildcontext.html#xpybuild.buildcontext.BuildContext" title="xpybuild.buildcontext.BuildContext">xpybuild.buildcontext.BuildContext</a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/basetarget.html#BaseTarget.clean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.basetarget.BaseTarget.clean" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by xpybuild when the target should be deleted (can be overridden if needed).</p>
<p>The default implementation will simply delete the target, and any target 
workdir, but can be overridden to delete additional temporary files if 
needed (shouldn’t be).</p>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.basetarget.BaseTarget.registerImplicitInputOption">
<code class="sig-name descname">registerImplicitInputOption</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">optionKey</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/basetarget.html#BaseTarget.registerImplicitInputOption"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.basetarget.BaseTarget.registerImplicitInputOption" title="Permalink to this definition">¶</a></dt>
<dd><p>Target classes can call this from their <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> to add the resolved value of the specified option(s) as 
‘implicit inputs’ of this target.</p>
<p>This list will be written to disk after the target builds successfully, and compared with its recorded value 
when subsequently checking the up-to-date-ness of the target.
This allows xpybuild to detect when the target should be rebuilt as a result of a change in options or property 
values (e.g. build number, release/debug mode etc), even if no dependencies have changed.</p>
<p>Call this from the target’s constructor, for each option that this target is affected by, 
or with a callable that dynamically selects from the defined options, e.g. based on a prefix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>optionKey</strong> – <p>the name of an option (as a string), 
or a callable that accepts an optionKey and dynamically decides which options to include, 
returning True if it should be included. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">registerImplicitInputOption</span><span class="p">(</span><span class="k">lambda</span> <span class="n">optionKey</span><span class="p">:</span> <span class="n">optionKey</span><span class="o">.</span><span class="n">startswith</span><span class="p">((</span><span class="s1">&#39;java.&#39;</span><span class="p">,</span> <span class="s1">&#39;javac.&#39;</span><span class="p">)))</span>
</pre></div>
</div>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.basetarget.BaseTarget.registerImplicitInput">
<code class="sig-name descname">registerImplicitInput</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/basetarget.html#BaseTarget.registerImplicitInput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.basetarget.BaseTarget.registerImplicitInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Target classes can call this from their <code class="docutils literal notranslate"><span class="pre">__init__()</span></code> to add the specified string line(s) as 
‘implicit inputs’ of this target.</p>
<p>This list will be written to disk after the target builds successfully, and compared with its recorded value 
when subsequently checking the up-to-date-ness of the target.
This allows xpybuild to detect when the target should be rebuilt as a result of a change in options or property 
values (e.g. build number, release/debug mode etc), even if no dependencies have changed.</p>
<p>Call this from the target’s constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>item</strong> – <p>The item to be added to the implicit inputs.</p>
<p>This can be either:</p>
<blockquote>
<div><ul class="simple">
<li><p>a string, which may contain substitution variables, e.g. <code class="docutils literal notranslate"><span class="pre">myparameter=&quot;${someprop}&quot;</span></code>, 
and will converted to a string using <code class="xref py py-obj docutils literal notranslate"><span class="pre">buildcontext.BuildContext.expandPropertyValues</span></code>, or</p></li>
<li><p>a callable to be invoked during up-to-dateness checking, that accepts a 
context parameter and returns a string or list of strings; 
any <code class="docutils literal notranslate"><span class="pre">None</span></code> items in the list are ignored.</p></li>
</ul>
</div></blockquote>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.basetarget.BaseTarget.getHashableImplicitInputs">
<code class="sig-name descname">getHashableImplicitInputs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/basetarget.html#BaseTarget.getHashableImplicitInputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.basetarget.BaseTarget.getHashableImplicitInputs" title="Permalink to this definition">¶</a></dt>
<dd><p>(deprecated) Target classes can implement this to add the string line(s) as ‘implicit inputs’ of this target.</p>
<dl class="field-list simple">
<dt class="field-odd">Deprecated</dt>
<dd class="field-odd"><p>The <a class="reference internal" href="#xpybuild.basetarget.BaseTarget.registerImplicitInput" title="xpybuild.basetarget.BaseTarget.registerImplicitInput"><code class="xref py py-obj docutils literal notranslate"><span class="pre">registerImplicitInput</span></code></a> or <a class="reference internal" href="#xpybuild.basetarget.BaseTarget.registerImplicitInputOption" title="xpybuild.basetarget.BaseTarget.registerImplicitInputOption"><code class="xref py py-obj docutils literal notranslate"><span class="pre">registerImplicitInputOption</span></code></a> methods should be called 
instead of overriding this method.</p>
</dd>
</dl>
<p>The default implementation returns nothing, unless 
<a class="reference internal" href="#xpybuild.basetarget.BaseTarget.registerImplicitInput" title="xpybuild.basetarget.BaseTarget.registerImplicitInput"><code class="xref py py-obj docutils literal notranslate"><span class="pre">registerImplicitInput</span></code></a> or <a class="reference internal" href="#xpybuild.basetarget.BaseTarget.registerImplicitInputOption" title="xpybuild.basetarget.BaseTarget.registerImplicitInputOption"><code class="xref py py-obj docutils literal notranslate"><span class="pre">registerImplicitInputOption</span></code></a>
have been called (in which case only the resolved paths of the file/directory dependencies will be used).</p>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.basetarget.BaseTarget.disableInFullBuild">
<code class="sig-name descname">disableInFullBuild</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/basetarget.html#BaseTarget.disableInFullBuild"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.basetarget.BaseTarget.disableInFullBuild" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by build file authors to configure this target to not build in <code class="docutils literal notranslate"><span class="pre">all</span></code> mode, so that it will only 
be built if the target name or tag is specified on the command line (or if pulled in by a dependency).</p>
<p>This is useful for targets that perform operations such as configuring developer IDEs which would not be 
needed in the main build, or for expensive parts of the build that are often not needed such as generation 
of installers.</p>
<p>See also <code class="xref py py-obj docutils literal notranslate"><span class="pre">tag</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.basetarget.BaseTarget.clearTags">
<code class="sig-name descname">clearTags</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/basetarget.html#BaseTarget.clearTags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.basetarget.BaseTarget.clearTags" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by build file authors to removes all tags other than <code class="docutils literal notranslate"><span class="pre">all</span></code> from this target.</p>
<p>See <code class="xref py py-obj docutils literal notranslate"><span class="pre">tag</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.basetarget.BaseTarget.getOption">
<code class="sig-name descname">getOption</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">errorIfNone</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">errorIfEmptyString</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/basetarget.html#BaseTarget.getOption"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.basetarget.BaseTarget.getOption" title="Permalink to this definition">¶</a></dt>
<dd><p>Target classes can call this during <a class="reference internal" href="#xpybuild.basetarget.BaseTarget.run" title="xpybuild.basetarget.BaseTarget.run"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run</span></code></a> or <a class="reference internal" href="#xpybuild.basetarget.BaseTarget.clean" title="xpybuild.basetarget.BaseTarget.clean"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clean</span></code></a> to get the resolved value of a specified option for 
this target, with optional checking to give a friendly error message if the value is an empty string or None.</p>
<p>This is a high-level alternative to reading directly from <code class="xref py py-obj docutils literal notranslate"><span class="pre">self.options</span></code>.</p>
<p>This method cannot be used while the build files are still being loaded, only during the execution of the targets.</p>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.basetarget.BaseTarget.option">
<code class="sig-name descname">option</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">value</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/basetarget.html#BaseTarget.option"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.basetarget.BaseTarget.option" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by build file authors to configure this target instance with an override for an option value.</p>
<p>This allows target-specific overriding of options. If no override is provided, the value set in 
<a class="reference internal" href="xpybuild.propertysupport.html#xpybuild.propertysupport.setGlobalOption" title="xpybuild.propertysupport.setGlobalOption"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xpybuild.propertysupport.setGlobalOption</span></code></a> for the whole build is used, or if that was not set then the default 
when the option was defined.</p>
<p>Use <code class="xref py py-obj docutils literal notranslate"><span class="pre">self.options</span></code> or <a class="reference internal" href="#xpybuild.basetarget.BaseTarget.getOption" title="xpybuild.basetarget.BaseTarget.getOption"><code class="xref py py-obj docutils literal notranslate"><span class="pre">getOption</span></code></a> to get resolved option values when implementing a target class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str|xpybuild.propertysupport.Option</em>) – The name of a previously-defined option. Usually this is a string 
literal, but you cna also use the <a class="reference internal" href="xpybuild.propertysupport.html#xpybuild.propertysupport.Option" title="xpybuild.propertysupport.Option"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xpybuild.propertysupport.Option</span></code></a> instance if you prefer.</p></li>
<li><p><strong>value</strong> – The value. If the value is a string and contains any property values these will be expanded 
before the option value is passed to the target.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.basetarget.BaseTarget.openFile">
<code class="sig-name descname">openFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span><span class="p">:</span> <span class="n"><a class="reference internal" href="xpybuild.buildcontext.html#xpybuild.buildcontext.BuildContext" title="xpybuild.buildcontext.BuildContext">xpybuild.buildcontext.BuildContext</a></span></em>, <em class="sig-param"><span class="n">path</span><span class="p">:</span> <span class="n">str</span></em>, <em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">'r'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/basetarget.html#BaseTarget.openFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.basetarget.BaseTarget.openFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Target classes can call this from their <a class="reference internal" href="#xpybuild.basetarget.BaseTarget.run" title="xpybuild.basetarget.BaseTarget.run"><code class="xref py py-obj docutils literal notranslate"><span class="pre">run</span></code></a> implementation to open a specified file, using an encoding 
specified by the <code class="docutils literal notranslate"><span class="pre">common.fileEncodingDecider</span></code> option (unless explicitly provided by <code class="docutils literal notranslate"><span class="pre">encoding=</span></code>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>context</strong> – The context that was passed to run().</p></li>
<li><p><strong>path</strong> – The full absolute path to be opened.</p></li>
<li><p><strong>mode</strong> – The file mode.</p></li>
<li><p><strong>kwargs</strong> – Any additional arguments for the io.open() method can be specified here.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.basetarget.BaseTarget.tags">
<code class="sig-name descname">tags</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">tags</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/basetarget.html#BaseTarget.tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.basetarget.BaseTarget.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by build file authors to append one or more tags to this target to make groups of related targets 
easier to build (or just to provide a shorter alias for the target on the command line).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tags</strong> – The tag, tags or list of tags to add to the target.</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">BaseTarget</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,[])</span><span class="o">.</span><span class="n">tags</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">getTags</span><span class="p">()</span>
<span class="go">&lt;using test initialization context&gt; &lt;using test initialization context&gt; [&#39;abc&#39;, &#39;full&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BaseTarget</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,[])</span><span class="o">.</span><span class="n">tags</span><span class="p">([</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="s1">&#39;def&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">getTags</span><span class="p">()</span>
<span class="go">&lt;using test initialization context&gt; &lt;using test initialization context&gt; [&#39;abc&#39;, &#39;def&#39;, &#39;full&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">BaseTarget</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,[])</span><span class="o">.</span><span class="n">tags</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">,</span> <span class="s1">&#39;def&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">tags</span><span class="p">(</span><span class="s1">&#39;ghi&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">getTags</span><span class="p">()</span>
<span class="go">&lt;using test initialization context&gt; &lt;using test initialization context&gt; &lt;using test initialization context&gt; [&#39;ghi&#39;, &#39;abc&#39;, &#39;def&#39;, &#39;full&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.basetarget.BaseTarget.priority">
<code class="sig-name descname">priority</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">priority</span><span class="p">:</span> <span class="n">float</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/basetarget.html#BaseTarget.priority"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.basetarget.BaseTarget.priority" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by build file authors to configure the priority of this target to encourage it (and its dependencies) 
to be built earlier in the process.</p>
<p>The default priority is 0.0</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>priority</strong> – a float representing the priority. Higher numbers will be built
first where possible. Cannot be negative.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.basetarget.BaseTarget.targetNameToUniqueId">
<em class="property">static </em><code class="sig-name descname">targetNameToUniqueId</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span><span class="p">:</span> <span class="n">str</span></em><span class="sig-paren">)</span> &#x2192; str<a class="reference internal" href="../_modules/xpybuild/basetarget.html#BaseTarget.targetNameToUniqueId"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.basetarget.BaseTarget.targetNameToUniqueId" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a target name (containing unexpanded property values) into a convenient unique identifier.</p>
<p>The resulting identifier is not an absolute path, and (unless very long) does not contain any directory 
elements. This id is suitable for temporary filenames and directories etc</p>
</dd></dl>

<dl class="py class">
<dt id="xpybuild.basetarget.BaseTarget.Options">
<em class="property">class </em><code class="sig-name descname">Options</code><a class="reference internal" href="../_modules/xpybuild/basetarget.html#BaseTarget.Options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.basetarget.BaseTarget.Options" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Options for customizing the behaviour of all targets. To set an option on a specific target call 
<a class="reference internal" href="#xpybuild.basetarget.BaseTarget.option" title="xpybuild.basetarget.BaseTarget.option"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xpybuild.basetarget.BaseTarget.option</span></code></a> or to se a global default use <a class="reference internal" href="xpybuild.propertysupport.html#xpybuild.propertysupport.setGlobalOption" title="xpybuild.propertysupport.setGlobalOption"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xpybuild.propertysupport.setGlobalOption</span></code></a>.</p>
<dl class="py attribute">
<dt id="xpybuild.basetarget.BaseTarget.Options.failureRetries">
<code class="sig-name descname">failureRetries</code><em class="property"> = Option &quot;Target.failureRetries&quot; (default: 0)</em><a class="headerlink" href="#xpybuild.basetarget.BaseTarget.Options.failureRetries" title="Permalink to this definition">¶</a></dt>
<dd><p>The “Target.failureRetries” option can be set on any target (or globally), and specifies how many times to retry 
the target’s build if it fails. The default is 0, which is recommended for normal developer builds.</p>
<p>There is an exponentially increasing backoff pause between each attempt - first 15s, then 30s, then 60s etc.</p>
<p>See <a class="reference internal" href="xpybuild.buildcommon.html#xpybuild.buildcommon.registerBuildLoadPostProcessor" title="xpybuild.buildcommon.registerBuildLoadPostProcessor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xpybuild.buildcommon.registerBuildLoadPostProcessor</span></code></a> which can be used to customize this option for targets based on 
user-defined criteria such as target type.</p>
</dd></dl>

</dd></dl>

</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="xpybuild.buildcommon.html" class="btn btn-neutral float-right" title="xpybuild.buildcommon" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="xpybuild.html" class="btn btn-neutral float-left" title="xpybuild" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019-2021, Ben Spiller and Matthew Johnson

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>xpybuild.targets.copy &mdash; xpybuild v4.0 4.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="xpybuild.targets.csharp" href="xpybuild.targets.csharp.html" />
    <link rel="prev" title="xpybuild.targets.archive" href="xpybuild.targets.archive.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> xpybuild v4.0
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="xpybuild.html">xpybuild</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="xpybuild.basetarget.html">xpybuild.basetarget</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpybuild.buildcommon.html">xpybuild.buildcommon</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpybuild.buildcontext.html">xpybuild.buildcontext</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpybuild.pathsets.html">xpybuild.pathsets</a></li>
<li class="toctree-l2"><a class="reference internal" href="xpybuild.propertysupport.html">xpybuild.propertysupport</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="xpybuild.targets.html">xpybuild.targets</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="xpybuild.targets.archive.html">xpybuild.targets.archive</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">xpybuild.targets.copy</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#copy">Copy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filteredcopy">FilteredCopy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#filecontentsmapper">FileContentsMapper</a></li>
<li class="toctree-l4"><a class="reference internal" href="#omitlines">OmitLines</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stringreplacelinemapper">StringReplaceLineMapper</a></li>
<li class="toctree-l4"><a class="reference internal" href="#regexlinemapper">RegexLineMapper</a></li>
<li class="toctree-l4"><a class="reference internal" href="#insertfilecontentslinemapper">InsertFileContentsLineMapper</a></li>
<li class="toctree-l4"><a class="reference internal" href="#addfileheader">AddFileHeader</a></li>
<li class="toctree-l4"><a class="reference internal" href="#addfilefooter">AddFileFooter</a></li>
<li class="toctree-l4"><a class="reference internal" href="#createreplacedictlinemappers">createReplaceDictLineMappers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="xpybuild.targets.csharp.html">xpybuild.targets.csharp</a></li>
<li class="toctree-l3"><a class="reference internal" href="xpybuild.targets.custom.html">xpybuild.targets.custom</a></li>
<li class="toctree-l3"><a class="reference internal" href="xpybuild.targets.docker.html">xpybuild.targets.docker</a></li>
<li class="toctree-l3"><a class="reference internal" href="xpybuild.targets.download.html">xpybuild.targets.download</a></li>
<li class="toctree-l3"><a class="reference internal" href="xpybuild.targets.java.html">xpybuild.targets.java</a></li>
<li class="toctree-l3"><a class="reference internal" href="xpybuild.targets.native.html">xpybuild.targets.native</a></li>
<li class="toctree-l3"><a class="reference internal" href="xpybuild.targets.symlink.html">xpybuild.targets.symlink</a></li>
<li class="toctree-l3"><a class="reference internal" href="xpybuild.targets.writefile.html">xpybuild.targets.writefile</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="xpybuild.utils.html">xpybuild.utils</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">xpybuild v4.0</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="xpybuild.html">xpybuild</a> &raquo;</li>
        
          <li><a href="xpybuild.targets.html">xpybuild.targets</a> &raquo;</li>
        
      <li>xpybuild.targets.copy</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/autodocgen/xpybuild.targets.copy.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-xpybuild.targets.copy">
<span id="xpybuild-targets-copy"></span><h1>xpybuild.targets.copy<a class="headerlink" href="#module-xpybuild.targets.copy" title="Permalink to this headline">¶</a></h1>
<p>Contains the <a class="reference internal" href="#xpybuild.targets.copy.Copy" title="xpybuild.targets.copy.Copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xpybuild.targets.copy.Copy</span></code></a> target for binary file and directory copies, and 
the <a class="reference internal" href="#xpybuild.targets.copy.FilteredCopy" title="xpybuild.targets.copy.FilteredCopy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xpybuild.targets.copy.FilteredCopy</span></code></a> target for copying text file(s) while filtering their contents 
through a set of mappers.</p>
<p><a class="reference internal" href="#xpybuild.targets.copy.FilteredCopy" title="xpybuild.targets.copy.FilteredCopy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FilteredCopy</span></code></a> uses one or more instances of <a class="reference internal" href="#xpybuild.targets.copy.FileContentsMapper" title="xpybuild.targets.copy.FileContentsMapper"><code class="xref py py-obj docutils literal notranslate"><span class="pre">xpybuild.targets.copy.FileContentsMapper</span></code></a> to map from 
source to destination file contents. Several pre-defined mappers are provided:</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#xpybuild.targets.copy.StringReplaceLineMapper" title="xpybuild.targets.copy.StringReplaceLineMapper"><code class="xref py py-obj docutils literal notranslate"><span class="pre">StringReplaceLineMapper</span></code></a>(old, new[, …])</p></td>
<td><p>Performs a simple string replacement for a single key/value.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#xpybuild.targets.copy.createReplaceDictLineMappers" title="xpybuild.targets.copy.createReplaceDictLineMappers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">createReplaceDictLineMappers</span></code></a>(replaceDict[, …])</p></td>
<td><p>Create a list of line mappers based on the contents of the specified replaceDict, where  values containing ${…} properties will be expanded out.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#xpybuild.targets.copy.RegexLineMapper" title="xpybuild.targets.copy.RegexLineMapper"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RegexLineMapper</span></code></a>(regex, repl[, …])</p></td>
<td><p>Performs a regex substitution ; any ${…} xpybuild properties in  the replacement string will be expanded, but not in the regex string.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#xpybuild.targets.copy.OmitLines" title="xpybuild.targets.copy.OmitLines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OmitLines</span></code></a>(match)</p></td>
<td><p>Omits lines from the input which contain the specified regular  expression.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#xpybuild.targets.copy.InsertFileContentsLineMapper" title="xpybuild.targets.copy.InsertFileContentsLineMapper"><code class="xref py py-obj docutils literal notranslate"><span class="pre">InsertFileContentsLineMapper</span></code></a>(…)</p></td>
<td><p>Replace instances of the specified token with the entire contents of the specified file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#xpybuild.targets.copy.AddFileHeader" title="xpybuild.targets.copy.AddFileHeader"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AddFileHeader</span></code></a>(string[, disablePropertyExpansion])</p></td>
<td><p>Add the specified string as a header at the  start of the file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#xpybuild.targets.copy.AddFileFooter" title="xpybuild.targets.copy.AddFileFooter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AddFileFooter</span></code></a>(string[, disablePropertyExpansion])</p></td>
<td><p>Add the specified string as a footer at the  end of the file.</p></td>
</tr>
</tbody>
</table>
<div class="section" id="copy">
<h2>Copy<a class="headerlink" href="#copy" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="xpybuild.targets.copy.Copy">
<em class="property">class </em><code class="sig-prename descclassname">xpybuild.targets.copy.</code><code class="sig-name descname">Copy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dest</span></em>, <em class="sig-param"><span class="n">src</span></em>, <em class="sig-param"><span class="n">implicitDependencies</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#Copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.Copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="xpybuild.basetarget.html#xpybuild.basetarget.BaseTarget" title="xpybuild.basetarget.BaseTarget"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpybuild.basetarget.BaseTarget</span></code></a></p>
<p>Target that copies input file(s) to an output file or directory.</p>
<p>The parent directory will be created if it doesn’t exist already.</p>
<p>The ‘Copy.symlinks’ option can be set to True if symbolic links 
in the source should result in the creation of symbolic links 
in the destination.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dest</strong> – the output directory (ending with a “/”) or file. Never 
specify a dest directory that is also written to by another 
target (e.g. do not specify an output directory here). If you need 
to write multiple files to a directory, use separate Copy 
targets for each, with file (rather than directory) target dest 
names.</p></li>
<li><p><strong>src</strong> – the input, which may be any combination of strings, PathSets and 
lists of these. If these PathSets include mapping information, this 
will be used to define where (under the dest directory) each 
file is copied.</p></li>
</ul>
</dd>
</dl>
<p>Note that only src files will be copied, any directory in the 
src list will be created but its contents will not be copied 
across - the only way to copy a directory is to use a FindPaths
(or FindPaths(DirGeneratedByTarget(‘…’))) 
for the src, which has the ability to find its contents on disk 
(this is necessary to prevent complex race conditions and 
build errors arising from implicit directory walking during 
the execution phase - if all dir walking happens during 
dependency resolution then such errors can be easily detected 
before they cause a problem).</p>
<p>To create new empty directories that are not present in the source (mkdir), 
you can use this simple trick which utilizes the fact that the current 
directory <code class="docutils literal notranslate"><span class="pre">.</span></code> definitely exists. It doesn’t copy anything from inside 
(just copies only its ‘existence’) and uses a SingletonDestRenameMapper PathSet 
to provide the destination:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SingletonDestRenameMapper</span><span class="p">(</span><span class="s1">&#39;my-new-dest-directory/&#39;</span><span class="p">,</span> <span class="s1">&#39;./&#39;</span><span class="p">),</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>implicitDependencies</strong> – provides a way to add additional implicit 
dependencies that will not be part of src but may affect the 
copy process (e.g. filtering in); this is intended for 
use by subclasses, do not set this explicitly.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="filteredcopy">
<h2>FilteredCopy<a class="headerlink" href="#filteredcopy" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="xpybuild.targets.copy.FilteredCopy">
<em class="property">class </em><code class="sig-prename descclassname">xpybuild.targets.copy.</code><code class="sig-name descname">FilteredCopy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dest</span></em>, <em class="sig-param"><span class="n">src</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">mappers</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#FilteredCopy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.FilteredCopy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#xpybuild.targets.copy.Copy" title="xpybuild.targets.copy.Copy"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpybuild.targets.copy.Copy</span></code></a></p>
<p>Target that copies one or more input text file(s) to an output file or directory, 
filtering each line through the specified line mappers.</p>
<p>The parent directory will be created if it doesn’t exist already.</p>
<p>Any source files determines to be binary/non-text by 
<code class="xref py py-obj docutils literal notranslate"><span class="pre">ExtensionBasedFileEncodingDecider.BINARY</span></code> are copied without any mappers 
being invoked.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dest</strong> – the output directory (ending with a <code class="docutils literal notranslate"><span class="pre">/</span></code>) or file. Never 
specify a dest directory that is also written to by another 
target (e.g. do not specify an output directory here). If you need 
to write multiple files to the output directory, use separate Copy 
targets for each.</p></li>
<li><p><strong>src</strong> – the input, which may be any combination of strings, PathSets and 
lists of these.</p></li>
<li><p><strong>mappers</strong> – <dl class="simple">
<dt>a list of objects subclassing <a class="reference internal" href="#xpybuild.targets.copy.FileContentsMapper" title="xpybuild.targets.copy.FileContentsMapper"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FileContentsMapper</span></code></a> </dt><dd><p>that will be used to transform 
the file, line by line. Can be empty in which case this behaves the same 
as a normal Copy target. Any items in this list with the value None 
are ignored.</p>
</dd>
</dl>
<p>For simple &#64;TOKEN&#64; replacement see createReplaceDictLineMappers. 
In addition to per-line changes, it is also possible to specify 
mappers that add header/footer content to the file.</p>
<p>Note that files are read and written in binary mode, so mappers 
will be dealing directly with platform-specific <code class="docutils literal notranslate"><span class="pre">\n</span></code> and <code class="docutils literal notranslate"><span class="pre">\r</span></code> 
characters; python’s os.linesep should be used where a 
platform-neutral newline is required.</p>
</p></li>
<li><p><strong>allowUnusedMappers</strong> – <blockquote>
<div><p>To avoid build files that accumulate unused 
cruft or are hard to understand, by default it is an error to include a 
mapper in this list that is not used, i.e. that does not in any way 
change the output for any file. We recommend using conditionalization 
to avoid passing in such mappers e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FilteredCopy</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">src</span><span class="p">,</span> <span class="p">[</span><span class="n">StringReplaceLineMapper</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">linesep</span><span class="p">,</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">IS_WINDOWS</span> <span class="k">else</span> <span class="kc">None</span><span class="p">])</span><span class="o">.</span> 
</pre></div>
</div>
</div></blockquote>
<p>If this is not practical, set <code class="docutils literal notranslate"><span class="pre">allowUnusedMappers=True</span></code> to prevent this 
check.</p>
</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="xpybuild.targets.copy.FilteredCopy.getHashableImplicitInputs">
<code class="sig-name descname">getHashableImplicitInputs</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#FilteredCopy.getHashableImplicitInputs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.FilteredCopy.getHashableImplicitInputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Include the mapper descriptions in the implicit dependencies.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="filecontentsmapper">
<h2>FileContentsMapper<a class="headerlink" href="#filecontentsmapper" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="xpybuild.targets.copy.FileContentsMapper">
<em class="property">class </em><code class="sig-prename descclassname">xpybuild.targets.copy.</code><code class="sig-name descname">FileContentsMapper</code><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#FileContentsMapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.FileContentsMapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A base class for mappers that take part in text file transformation for use with FilteredCopy</p>
<p>Note that files are read and written in binary mode, so mappers 
will be dealing directly with platform-specific n and r 
characters; python’s os.linesep should be used where a 
platform-netural new line character is required.</p>
<dl class="py method">
<dt id="xpybuild.targets.copy.FileContentsMapper.getInstance">
<code class="sig-name descname">getInstance</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#FileContentsMapper.getInstance"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.FileContentsMapper.getInstance" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when a target begins to use a (potentially shared) line mapper. 
Returns the thread-safe (or stateless) FileContentsMapper instance that will be used; 
since most instances are inherently stateless, by default just returns self.</p>
<p>If you need to keep any state that changes after the <a class="reference internal" href="#xpybuild.targets.copy.FileContentsMapper.prepare" title="xpybuild.targets.copy.FileContentsMapper.prepare"><code class="xref py py-obj docutils literal notranslate"><span class="pre">prepare</span></code></a> method 
is called (for example based on tracking the current filename or 
previously encountered lines), you need to override this and return a new instance 
either by calling your constructor or use Python’s copy.deepcopy() method.</p>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.targets.copy.FileContentsMapper.prepare">
<code class="sig-name descname">prepare</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#FileContentsMapper.prepare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.FileContentsMapper.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Called once the build process has started and before any other method on this mapper 
(other than getInstance) to allow the mapper to initialize its internal 
variables using the build context, for example by expanding build properties.</p>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.targets.copy.FileContentsMapper.startFile">
<code class="sig-name descname">startFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">src</span></em>, <em class="sig-param"><span class="n">dest</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#FileContentsMapper.startFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.FileContentsMapper.startFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when the mapper starts to process a new file.</p>
<p>Can be used to prevent the mapper handling certain files. 
For stateful mappers (with an implementation of L(getInstance), this 
can be used to enable file-specific behaviour during mapping.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>context</strong> – The context.</p></li>
<li><p><strong>src</strong> – The absolute normalized long-path-safe source file path.</p></li>
<li><p><strong>dest</strong> – The absolute normalized long-path-safe destination file path.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if this file can be handled by this mapper, or False if 
it should be ignored for this file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.targets.copy.FileContentsMapper.mapLine">
<code class="sig-name descname">mapLine</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em>, <em class="sig-param"><span class="n">line</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#FileContentsMapper.mapLine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.FileContentsMapper.mapLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Called for every line in the file, returning the original line, a changed line, or None if the line should be deleted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>line</strong> – The input line as a byte string.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The line to write to output as a byte string, or None if it should be omitted.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.targets.copy.FileContentsMapper.getHeader">
<code class="sig-name descname">getHeader</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#FileContentsMapper.getHeader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.FileContentsMapper.getHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Called at the start of every file. By default returns None but can return 
a string that will be written to the target file before anything else. 
Use os.linesep for new lines.</p>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.targets.copy.FileContentsMapper.getFooter">
<code class="sig-name descname">getFooter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#FileContentsMapper.getFooter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.FileContentsMapper.getFooter" title="Permalink to this definition">¶</a></dt>
<dd><p>Called at the end of every file. By default returns None but can return 
a string that will be written to the target file after everything else. 
Use os.linesep for new lines.</p>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.targets.copy.FileContentsMapper.getDescription">
<code class="sig-name descname">getDescription</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">context</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#FileContentsMapper.getDescription"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.FileContentsMapper.getDescription" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a string description of the transformation, to be used for up-to-date rebuild checking</p>
</dd></dl>

<dl class="py method">
<dt id="xpybuild.targets.copy.FileContentsMapper.getDependencies">
<code class="sig-name descname">getDependencies</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#FileContentsMapper.getDependencies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.FileContentsMapper.getDependencies" title="Permalink to this definition">¶</a></dt>
<dd><p>Advanced option for specifying paths that are required to be read by this line mapper, 
which therefore should be dependencies of the target that uses it. Returns a list of unresolved paths.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="omitlines">
<h2>OmitLines<a class="headerlink" href="#omitlines" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="xpybuild.targets.copy.OmitLines">
<em class="property">class </em><code class="sig-prename descclassname">xpybuild.targets.copy.</code><code class="sig-name descname">OmitLines</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">match</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#OmitLines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.OmitLines" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#xpybuild.targets.copy.FileContentsMapper" title="xpybuild.targets.copy.FileContentsMapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpybuild.targets.copy.FileContentsMapper</span></code></a></p>
<p>Omits lines from the input which contain the specified regular 
expression. Use re.escape() on the input if a simple substring match is 
required.</p>
</dd></dl>

</div>
<div class="section" id="stringreplacelinemapper">
<h2>StringReplaceLineMapper<a class="headerlink" href="#stringreplacelinemapper" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="xpybuild.targets.copy.StringReplaceLineMapper">
<em class="property">class </em><code class="sig-prename descclassname">xpybuild.targets.copy.</code><code class="sig-name descname">StringReplaceLineMapper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">old</span></em>, <em class="sig-param"><span class="n">new</span></em>, <em class="sig-param"><span class="n">disablePropertyExpansion</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#StringReplaceLineMapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.StringReplaceLineMapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#xpybuild.targets.copy.FileContentsMapper" title="xpybuild.targets.copy.FileContentsMapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpybuild.targets.copy.FileContentsMapper</span></code></a></p>
<p>Performs a simple string replacement for a single key/value.
Any ${…} xpybuild properties in the old and new strings will be expanded.</p>
<p>Usually will be created from a dictionary of tokens and replacements by <a class="reference internal" href="#xpybuild.targets.copy.createReplaceDictLineMappers" title="xpybuild.targets.copy.createReplaceDictLineMappers"><code class="xref py py-obj docutils literal notranslate"><span class="pre">createReplaceDictLineMappers</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>disablePropertyExpansion</strong> – set to True to disable expansion of ${…} properties in the 
old and new strings.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="regexlinemapper">
<h2>RegexLineMapper<a class="headerlink" href="#regexlinemapper" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="xpybuild.targets.copy.RegexLineMapper">
<em class="property">class </em><code class="sig-prename descclassname">xpybuild.targets.copy.</code><code class="sig-name descname">RegexLineMapper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">regex</span></em>, <em class="sig-param"><span class="n">repl</span></em>, <em class="sig-param"><span class="n">disablePropertyExpansion</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#RegexLineMapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.RegexLineMapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#xpybuild.targets.copy.FileContentsMapper" title="xpybuild.targets.copy.FileContentsMapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpybuild.targets.copy.FileContentsMapper</span></code></a></p>
<p>Performs a regex substitution ; any ${…} xpybuild properties in 
the replacement string will be expanded, but not in the regex string.</p>
<p>Note that files are written in binary mode, so rather than hardcoding 
the newline character “n”, python’s os.linesep should be used where a platform-neutral newline 
is required.</p>
</dd></dl>

</div>
<div class="section" id="insertfilecontentslinemapper">
<h2>InsertFileContentsLineMapper<a class="headerlink" href="#insertfilecontentslinemapper" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="xpybuild.targets.copy.InsertFileContentsLineMapper">
<em class="property">class </em><code class="sig-prename descclassname">xpybuild.targets.copy.</code><code class="sig-name descname">InsertFileContentsLineMapper</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">replacementToken</span></em>, <em class="sig-param"><span class="n">filepath</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#InsertFileContentsLineMapper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.InsertFileContentsLineMapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#xpybuild.targets.copy.FileContentsMapper" title="xpybuild.targets.copy.FileContentsMapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpybuild.targets.copy.FileContentsMapper</span></code></a></p>
<p>Replace instances of the specified token with the entire contents of the specified file.</p>
<p>filepath must be an absolute path, not a build dir relative path.</p>
</dd></dl>

</div>
<div class="section" id="addfileheader">
<h2>AddFileHeader<a class="headerlink" href="#addfileheader" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="xpybuild.targets.copy.AddFileHeader">
<em class="property">class </em><code class="sig-prename descclassname">xpybuild.targets.copy.</code><code class="sig-name descname">AddFileHeader</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span></em>, <em class="sig-param"><span class="n">disablePropertyExpansion</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#AddFileHeader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.AddFileHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#xpybuild.targets.copy.FileContentsMapper" title="xpybuild.targets.copy.FileContentsMapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpybuild.targets.copy.FileContentsMapper</span></code></a></p>
<p>Add the specified string as a header at the 
start of the file. Note that if a trailing newline is required before 
the rest of the file’s contents it should be included as part of the header.</p>
<p>Property substitution will be performed on the specified string.</p>
<p>Note that files are written in binary mode, so rather than hardcoding 
the newline character “n”, python’s os.linesep should be used where a platform-neutral newline 
is required.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>disablePropertyExpansion</strong> – set to True to disable expansion of ${…} properties in the 
old and new strings.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="addfilefooter">
<h2>AddFileFooter<a class="headerlink" href="#addfilefooter" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="xpybuild.targets.copy.AddFileFooter">
<em class="property">class </em><code class="sig-prename descclassname">xpybuild.targets.copy.</code><code class="sig-name descname">AddFileFooter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span></em>, <em class="sig-param"><span class="n">disablePropertyExpansion</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#AddFileFooter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.AddFileFooter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#xpybuild.targets.copy.FileContentsMapper" title="xpybuild.targets.copy.FileContentsMapper"><code class="xref py py-class docutils literal notranslate"><span class="pre">xpybuild.targets.copy.FileContentsMapper</span></code></a></p>
<p>Add the specified string as a footer at the 
end of the file. Note that if a trailing newline is required at the end 
of the file it should be included as part of the footer.</p>
<p>Property substitution will be performed on the specified string.</p>
<p>Note that files are written in binary mode, so rather than hardcoding 
the newline character “n”, python’s os.linesep should be used where a platform-neutral newline 
is required.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>disablePropertyExpansion</strong> – set to True to disable expansion of ${…} properties in the 
old and new strings.</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="createreplacedictlinemappers">
<h2>createReplaceDictLineMappers<a class="headerlink" href="#createreplacedictlinemappers" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="xpybuild.targets.copy.createReplaceDictLineMappers">
<code class="sig-prename descclassname">xpybuild.targets.copy.</code><code class="sig-name descname">createReplaceDictLineMappers</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">replaceDict</span></em>, <em class="sig-param"><span class="n">replaceMarker</span><span class="o">=</span><span class="default_value">'&#64;'</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xpybuild/targets/copy.html#createReplaceDictLineMappers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#xpybuild.targets.copy.createReplaceDictLineMappers" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a list of line mappers based on the contents of the specified replaceDict, where 
values containing ${…} properties will be expanded out.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>replaceDict</strong> – The dictionary of keys and values</p></li>
<li><p><strong>replaceMarker</strong> – the delimiter for keys (default=&#64;), e.g. &#64;KEY&#64; will be replaced with VALUE</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="xpybuild.targets.csharp.html" class="btn btn-neutral float-right" title="xpybuild.targets.csharp" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="xpybuild.targets.archive.html" class="btn btn-neutral float-left" title="xpybuild.targets.archive" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019-2021, Ben Spiller and Matthew Johnson

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>